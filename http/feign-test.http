### Feign Client Test - User Service Integration
### These tests verify the communication between main-service and user-service via Feign client

### ============================================
### Test User Service Endpoints (via Gateway)
### ============================================

### Get User by UserNo (new endpoint for Feign client)
GET http://localhost:8000/api/v1/user-service/users/by-no/1
Content-Type: application/json

###

### Get User by UserId
GET http://localhost:8000/api/v1/user-service/users/testuser
Content-Type: application/json

###

### ============================================
### Test Main Service Endpoints (that use Feign internally)
### ============================================

### Create Ingredient Stock (requires authentication)
POST http://localhost:8000/api/v1/main-service/ingredient-stock
Content-Type: application/json
Authorization: Bearer {{auth_token}}

{
  "ingredientStockName": "왕만두",
  "ingredientStockCategory": "processed",
  "ingredientStockBoughtAt": "2026-01-13",
  "ingredientStockExpiredAt": "2028-10-24",
  "ingredientStockTotalCost": 15000,
  "ingredientStockTotalQuantity": 10,
  "ingredientStockUnit": "ea"
}

###

### Get Recipe Recommendation
POST http://localhost:8000/api/v1/main-service/recipe/recommend
Content-Type: application/json
Cookie: refreshToken={{auth_token}}

{
  "dishName": "Pasta",
  "ingredients": ["tomato", "garlic", "olive oil"],
  "dislikedIngredients": [],
  "skillLevel": "BEGINNER",
  "tools": ["pot", "pan"],
  "foodTypes": ["Italian"],
  "preference": "healthy",
  "servings": 2
}

###

### ============================================
### Direct User Service Test (without Gateway)
### ============================================

### Direct call to user-service (port will vary due to random port)
### Use Eureka to discover actual port or check logs
GET http://localhost:{{auth_token}}/api/v1/users/by-no/1
Content-Type: application/json

###

### Direct call to user-service - Get User by UserId
GET http://localhost:{{auth_token}}/api/v1/users/testuser
Content-Type: application/json
